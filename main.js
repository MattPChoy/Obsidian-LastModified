"use strict";var r=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var g=(s,t)=>{for(var i in t)r(s,i,{get:t[i],enumerable:!0})},M=(s,t,i,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of c(t))!l.call(s,n)&&n!==i&&r(s,n,{get:()=>t[n],enumerable:!(e=h(t,n))||e.enumerable});return s};var f=s=>M(r({},"__esModule",{value:!0}),s);var F={};g(F,{default:()=>o});module.exports=f(F);var d=require("obsidian"),o=class extends d.Plugin{constructor(){super(...arguments);this.processingFiles=new Set}async onload(){this.registerEvent(this.app.vault.on("modify",i=>{i instanceof d.TFile&&i.extension==="md"&&this.handleModify(i)}))}handleModify(i){if(this.processingFiles.has(i.path)){this.processingFiles.delete(i.path);return}this.processingFiles.add(i.path),this.app.fileManager.processFrontMatter(i,e=>{let n=new Date().toISOString().split("T")[0];e.Modified?Array.isArray(e.Modified)||(e.Modified=[String(e.Modified)]):e.Modified=[];let a=e.Modified.map(p=>String(p));a.includes(n)||(e.Modified=[...a,n])}).catch(e=>{this.processingFiles.delete(i.path),console.error("[modified-date-tracker] frontmatter update failed:",e)})}};
